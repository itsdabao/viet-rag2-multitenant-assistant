<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agent Chat ‚Äì Viet RAG2</title>
    <meta name="description" content="Giao di·ªán chat nhanh v·ªõi Agent (WebSocket streaming) cho Viet RAG2." />
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="stylesheet" href="/static/agent.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="site-header__inner">
        <a href="/agent" class="logo">AGENT<span class="logo__dot">‚Ä¢</span>CHAT</a>
        <nav class="nav">
          <ul class="nav__list">
            <li><a href="/static/frontend_test.html#demo" class="nav__link">Landing Demo</a></li>
            <li><a href="/owner" class="nav__link">Owner</a></li>
            <li><a href="/admin" class="nav__link">Admin</a></li>
          </ul>
          <button id="btnClear" class="btn btn--ghost" type="button">Clear</button>
        </nav>
      </div>
    </header>

    <main>
      <section class="section section--dark">
        <div class="container">
          <div class="section__header section__header--center">
            <div class="section__eyebrow">Live</div>
            <h2>Chat v·ªõi Agent (streaming)</h2>
            <p>G·ª≠i c√¢u h·ªèi qua WebSocket `ws://.../ws/query`, nh·∫≠n c√¢u tr·∫£ l·ªùi theo chunk gi·ªëng ChatGPT.</p>
          </div>

          <div class="demo-layout">
            <div class="demo-panel">
              <div class="demo-panel__header">
                <span style="font-size: 0.85rem; color: #9ca3af;">C·∫•u h√¨nh</span>
                <span id="statusLabel" class="demo-panel__status-label status-idle">S·∫µn s√†ng</span>
              </div>
              <form class="demo-form" onsubmit="return false;">
                <div class="form-group">
                  <label for="tenantId">Tenant ID</label>
                  <input id="tenantId" type="text" placeholder="vd: brightpathacademy" value="brightpathacademy" />
                </div>
                <div class="form-group">
                  <label for="branchId">Branch ID (tu·ª≥ ch·ªçn)</label>
                  <input id="branchId" type="text" placeholder="vd: cs1" value="" />
                </div>
                <div class="form-group">
                  <label for="userId">User ID (tu·ª≥ ch·ªçn)</label>
                  <input id="userId" type="text" placeholder="vd: web:demo01" value="" />
                </div>
                <div class="form-group">
                  <label for="sessionId">Session ID (memory)</label>
                  <input id="sessionId" type="text" placeholder="vd: brightpathacademy:web:abc123" value="" />
                  <div class="demo-hint">
                    N·∫øu ƒë·ªÉ tr·ªëng, h·ªá th·ªëng t·ª± t·∫°o 1 session theo tenant v√† l∆∞u trong tr√¨nh duy·ªát.
                  </div>
                </div>
                <div class="form-group">
                  <label for="userQuestion">C√¢u h·ªèi</label>
                  <textarea id="userQuestion" placeholder="vd: Trung t√¢m c√≥ nh·ªØng ch∆∞∆°ng tr√¨nh n√†o?"></textarea>
                </div>
                <button id="btnAsk" class="btn btn--primary">G·ª≠i</button>
              </form>
            </div>

            <div class="demo-panel">
              <div class="demo-panel__header">
                <span style="font-size: 0.85rem; color: #9ca3af;">Tr·∫£ l·ªùi</span>
                <span id="metaLine" class="demo-meta-line"></span>
              </div>
              <div id="answerContainer" class="demo-output">
                <p class="demo-output__placeholder">C√¢u tr·∫£ l·ªùi s·∫Ω xu·∫•t hi·ªán t·∫°i ƒë√¢y‚Ä¶</p>
              </div>
              <div id="sourcesContainer" class="demo-sources"></div>
              <div class="demo-feedback">
                <button id="btnUp" class="demo-feedback__btn" type="button">üëç H√†i l√≤ng</button>
                <button id="btnDown" class="demo-feedback__btn" type="button">üëé Ch∆∞a h√†i l√≤ng</button>
                <span id="feedbackStatus" class="demo-feedback__status"></span>
              </div>
              <div class="demo-hint">
                Tip: n·∫øu backend b·∫≠t analytics, b·∫°n s·∫Ω th·∫•y trace trong `/admin` v√† `/owner`.
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="/static/agent.js"></script>
  </body>
</html>

